<div id="activity-feed" class="space-y-3">
  <% if activities.any? %>
    <% activities.each do |activity| %>
      <div class="bg-gray-50 p-3 rounded text-sm">
        <% if activity.action_type == 'status_change' %>
          <p>
            <span class="font-medium">
              <%= "#{activity.user.first_name} #{activity.user.last_name}" %>
            </span>
            changed status from
            <span class="font-medium"><%= activity.data["from"].humanize.titleize %></span>
            to
            <span class="font-medium"><%= activity.data["to"].humanize.titleize %></span>
            <span class="text-gray-500 text-xs ml-2">
              <%= time_ago_in_words(activity.created_at) %> ago
            </span>
          </p>
        <% elsif activity.action_type == 'comment' %>
          <div>
            <div class="flex items-center mb-1">
              <span class="font-medium">
                <%= "#{activity.user.first_name} #{activity.user.last_name}" %>
              </span>
              <span class="text-gray-500 text-xs ml-2">
                <%= time_ago_in_words(activity.created_at) %> ago
              </span>
            </div>
            <p class="mt-1"><%= activity.data["comment"] %></p>
          </div>
        <% end %>
      </div>
    <% end %>
  <% else %>
    <p class="text-gray-500 italic">No activity yet</p>
  <% end %>
</div>
